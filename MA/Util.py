#!/cygdrive/c/Anaconda3/python.exe
import sys, datetime

NO_TRDIND_DAY = ["20150101","20150102","20150218","20150219","20150220","20150221","20150222","20150223","20150224","20150404","20150405","20150406","20150501","20150502","20150503","20150620","20150621","20150622","20150903","20150904","20150905","20150927","20151001","20151002","20151003","20151004","20151005","20151006","20151007","20160101","20160102","20160103","20160208","20160209","20160210","20160211","20160212","20160404","20160501","20160502","20160609","20160610","20160915","20160916","20161001","20161002","20161003","20161004","20161005","20161006","20161007","20170101","20170102","20170127","20170128","20170129","20170130","20170131","20170201","20170202","20170403","20170404","20170501","20170529","20170530","20171001","20171002","20171003","20171004","20171005","20171006","20171007","20180101","20180215","20180216","20180219","20180220","20180221","20180405","20180406","20180430","20180501","20180618","20180924","20181001","20181002","20181003","20181004","20181005","20181231","20190101","20190204","20190205","20190206","20190207","20190208","20190405","20190501","20190502","20190503","20190607","20190913","20191001","20191002","20191003","20191004","20191007","20200101","20200124","20200127","20200128","20200129","20200130","20200406","20200501","20200504","20200505","20200625","20200626","20201001","20201002","20201005","20201006","20201007","20201008"]

def genTrdDateList(asoddate, step):
    dateList = []
    now = datetime.datetime(int(asoddate[0:4]), int(asoddate[4:6]), int(asoddate[6:8]), 0, 0)
    cnt = 0
    while len(dateList)<step:
        tempTime = now + datetime.timedelta(-cnt)
        cnt+=1
        if tempTime.weekday()>4:
            continue
        tempDate = tempTime.strftime("%Y%m%d")
        if tempDate not in NO_TRDIND_DAY:
            dateList.append(tempDate)
    return dateList